<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS 形状实验室 | 可视化 CSS 形状生成器</title>
    <!-- 引入 Prism.js 代码高亮库 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-css.min.js"></script>
    
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --dark-color: #2b2d42;
            --light-color: #f8f9fa;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f0f2f5;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--box-shadow);
        }
        
        header h1 {
            font-weight: 500;
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
        
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            padding: 1rem;
            gap: 1rem;
        }
        
        .editor-panel, .preview-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }
        
        .editor-panel {
            background-color: #1e1e2e;
        }
        
        .panel-header {
            padding: 1rem;
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .editor-panel .panel-header {
            background-color: #2d2d3d;
        }
        
        .panel-header svg {
            width: 20px;
            height: 20px;
        }
        
        /* 修改代码编辑器样式 */
        .code-editor {
            flex: 1;
            width: 100%;
            background-color: #1e1e2e;
            color: #d4d4d4;
            border: none;
            padding: 1rem;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            outline: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            tab-size: 2;
            white-space: pre;
            overflow-x: auto;
        }
        
        /* 代码高亮容器 */
        .code-container {
            position: relative;
            flex: 1;
            overflow: auto;
        }
        
        /* 行号样式 */
        .line-numbers {
            position: absolute;
            top: 0;
            left: 0;
            padding: 1rem;
            padding-right: 0.5rem;
            text-align: right;
            color: #6c757d;
            user-select: none;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .preview-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(45deg, #f5f7fa 25%, #e4e8ed 25%, #e4e8ed 50%, #f5f7fa 50%, #f5f7fa 75%, #e4e8ed 75%, #e4e8ed 100%);
            background-size: 20px 20px;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            position: relative;
        }
        
        .shape-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        
        .controls {
            display: flex;
            gap: 0.75rem;
            padding: 1rem;
            background-color: #2d2d3d;
            border-top: 1px solid #3a3a4a;
        }
        
        button {
            padding: 0.6rem 1.2rem;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }
        
        button#reset-btn {
            background-color: #6c757d;
        }
        
        button#reset-btn:hover {
            background-color: #5a6268;
        }
        
        select {
            padding: 0.6rem;
            border-radius: var(--border-radius);
            border: 1px solid #3a3a4a;
            background-color: #2d2d3d;
            color: white;
            font-size: 0.9rem;
            flex: 1;
            cursor: pointer;
            transition: var(--transition);
        }
        
        select:hover {
            border-color: var(--accent-color);
        }
        
        select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(72, 149, 239, 0.3);
        }
        
        .html-structure {
            padding: 1rem;
            background-color: white;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            color: #495057;
            border-top: 1px solid #e9ecef;
        }
        
        footer {
            text-align: center;
            padding: 1rem;
            background-color: var(--dark-color);
            color: white;
            font-size: 0.9rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 0.5rem;
            }
            
            .editor-panel, .preview-panel {
                min-height: 50vh;
            }
            
            header h1 {
                font-size: 1.5rem;
            }
        }
        
        /* 动画效果 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .shape-container {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <header>
        <h1>CSS 形状实验室</h1>
        <p>可视化 CSS 形状生成与预览工具</p>
    </header>
    
    <div class="container">
        <div class="editor-panel">
            <div class="panel-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                </svg>
                CSS 代码编辑器
            </div>
            <div class="code-container">
                <div class="line-numbers" id="line-numbers"></div>
                <textarea id="css-code" class="code-editor" spellcheck="false"></textarea>
                <pre id="highlighted-code"><code class="language-css"></code></pre>
            </div>
            <div class="controls">
                <select id="presets">
                    <option value="">选择预设形状...</option>
                    <option value="triangle1">▲ 三角形 (向上)</option>
                    <option value="triangle2">▼ 三角形 (向下)</option>
                    <option value="triangle3">◄ 三角形 (向左)</option>
                    <option value="triangle4">► 三角形 (向右)</option>
                    <option value="triangle5">◥ 三角形 (右上角)</option>
                    <option value="sector">◠ 扇形 (90度)</option>
                    <option value="square1">■ 正方形 (vw单位)</option>
                    <option value="square2">■ 正方形 (padding百分比)</option>
                    <option value="square3">■ 正方形 (margin-top百分比)</option>
                </select>
                <button id="run-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    运行
                </button>
                <button id="reset-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    重置
                </button>
            </div>
        </div>
        
        <div class="preview-panel">
            <div class="panel-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
                实时预览
            </div>
            <div class="preview-area">
                <div class="shape-container">
                    <div id="shape"></div>
                </div>
            </div>
            <div class="panel-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                HTML 结构
            </div>
            <div class="html-structure">&lt;div id="shape"&gt;&lt;/div&gt;</div>
        </div>
    </div>
    
    <footer>
        <p>CSS 形状实验室 &copy; 2023 | 使用 CSS 创建各种几何形状</p>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cssCode = document.getElementById('css-code');
            const runBtn = document.getElementById('run-btn');
            const resetBtn = document.getElementById('reset-btn');
            const presets = document.getElementById('presets');
            const shape = document.getElementById('shape');
            const highlightedCode = document.querySelector('#highlighted-code code');
            const lineNumbers = document.getElementById('line-numbers');
            
            // 创建一个style元素来持久化样式
            const styleElement = document.createElement('style');
            document.head.appendChild(styleElement);
            
            // 预设代码 - 每种形状使用不同的颜色
            const presetCodes = {
                triangle1: `#shape {
    width: 0;
    height: 0;
    border-top: 50px solid #FF5252;
    border-right: 50px solid transparent;
    border-left: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle2: `#shape {
    width: 0;
    height: 0;
    border-bottom: 50px solid #4CAF50;
    border-right: 50px solid transparent;
    border-left: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle3: `#shape {
    width: 0;
    height: 0;
    border-left: 50px solid #2196F3;
    border-top: 50px solid transparent;
    border-bottom: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle4: `#shape {
    width: 0;
    height: 0;
    border-right: 50px solid #FFC107;
    border-top: 50px solid transparent;
    border-bottom: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle5: `#shape {
    width: 0;
    height: 0;
    border-top: 100px solid #9C27B0;
    border-right: 100px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                sector: `#shape {
    border: 100px solid transparent;
    width: 0;
    height: 0;
    border-radius: 100px;
    border-top-color: #FF9800;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                square1: `#shape {
    width: 30%;
    height: 30vw;
    background: #00BCD4;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                square2: `#shape {
    width: 30%;
    height: 0;
    padding-top: 30%;
    background: #795548;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                square3: `#shape {
    width: 30%;
    overflow: hidden;
    background: #607D8B;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}
#shape::after {
    content: '';
    display: block;
    margin-top: 100%;
}`
            };
            
            // 更新行号
            function updateLineNumbers(code) {
                const lines = code.split('\n').length;
                let numbers = '';
                for (let i = 1; i <= lines; i++) {
                    numbers += i + '\n';
                }
                lineNumbers.textContent = numbers;
            }
            
            // 高亮代码
            function highlightCode() {
                const code = cssCode.value;
                highlightedCode.textContent = code;
                Prism.highlightElement(highlightedCode);
                updateLineNumbers(code);
            }
            
            // 选择预设
            presets.addEventListener('change', function() {
                const selected = this.value;
                if (selected && presetCodes[selected]) {
                    cssCode.value = presetCodes[selected];
                    highlightCode();
                    applyStyles();
                }
            });
            
            // 运行按钮
            runBtn.addEventListener('click', function() {
                highlightCode();
                applyStyles();
            });
            
            // 重置按钮
            resetBtn.addEventListener('click', function() {
                cssCode.value = '';
                styleElement.innerHTML = '';
                shape.removeAttribute('style');
                highlightCode();
            });
            
            // 应用样式
            function applyStyles() {
                // 重置shape的内联样式
                shape.removeAttribute('style');
                // 更新style元素的内容
                styleElement.innerHTML = cssCode.value;
            }
            
            // 监听代码编辑
            cssCode.addEventListener('input', highlightCode);
            cssCode.addEventListener('scroll', function() {
                highlightedCode.scrollTop = this.scrollTop;
                highlightedCode.scrollLeft = this.scrollLeft;
                lineNumbers.scrollTop = this.scrollTop;
            });
            
            // 初始加载第一个预设
            cssCode.value = presetCodes.triangle1;
            highlightCode();
            applyStyles();
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS 形状实验室 | 可视化 CSS 形状生成器</title>
    <!-- 引入 Prism.js 代码高亮库 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-css.min.js"></script>
    
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --dark-color: #2b2d42;
            --light-color: #f8f9fa;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f0f2f5;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--box-shadow);
        }
        
        header h1 {
            font-weight: 500;
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
        
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            padding: 1rem;
            gap: 1rem;
        }
        
        .editor-panel, .preview-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }
        
        .editor-panel {
            background-color: #1e1e2e;
        }
        
        .panel-header {
            padding: 1rem;
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .editor-panel .panel-header {
            background-color: #2d2d3d;
        }
        
        .panel-header svg {
            width: 20px;
            height: 20px;
        }
        
        /* 修改代码编辑器样式 */
        .code-editor {
            flex: 1;
            width: 100%;
            background-color: #1e1e2e;
            color: #d4d4d4;
            border: none;
            padding: 1rem;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            outline: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            tab-size: 2;
            white-space: pre;
            overflow-x: auto;
        }
        
        /* 代码高亮容器 */
        .code-container {
            position: relative;
            flex: 1;
            overflow: auto;
        }
        
        /* 行号样式 */
        .line-numbers {
            position: absolute;
            top: 0;
            left: 0;
            padding: 1rem;
            padding-right: 0.5rem;
            text-align: right;
            color: #6c757d;
            user-select: none;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .preview-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(45deg, #f5f7fa 25%, #e4e8ed 25%, #e4e8ed 50%, #f5f7fa 50%, #f5f7fa 75%, #e4e8ed 75%, #e4e8ed 100%);
            background-size: 20px 20px;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            position: relative;
        }
        
        .shape-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        
        .controls {
            display: flex;
            gap: 0.75rem;
            padding: 1rem;
            background-color: #2d2d3d;
            border-top: 1px solid #3a3a4a;
        }
        
        button {
            padding: 0.6rem 1.2rem;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }
        
        button#reset-btn {
            background-color: #6c757d;
        }
        
        button#reset-btn:hover {
            background-color: #5a6268;
        }
        
        select {
            padding: 0.6rem;
            border-radius: var(--border-radius);
            border: 1px solid #3a3a4a;
            background-color: #2d2d3d;
            color: white;
            font-size: 0.9rem;
            flex: 1;
            cursor: pointer;
            transition: var(--transition);
        }
        
        select:hover {
            border-color: var(--accent-color);
        }
        
        select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(72, 149, 239, 0.3);
        }
        
        .html-structure {
            padding: 1rem;
            background-color: white;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            color: #495057;
            border-top: 1px solid #e9ecef;
        }
        
        footer {
            text-align: center;
            padding: 1rem;
            background-color: var(--dark-color);
            color: white;
            font-size: 0.9rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 0.5rem;
            }
            
            .editor-panel, .preview-panel {
                min-height: 50vh;
            }
            
            header h1 {
                font-size: 1.5rem;
            }
        }
        
        /* 动画效果 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .shape-container {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <header>
        <h1>CSS 形状实验室</h1>
        <p>可视化 CSS 形状生成与预览工具</p>
    </header>
    
    <div class="container">
        <div class="editor-panel">
            <div class="panel-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                </svg>
                CSS 代码编辑器
            </div>
            <div class="code-container">
                <div class="line-numbers" id="line-numbers"></div>
                <textarea id="css-code" class="code-editor" spellcheck="false"></textarea>
                <pre id="highlighted-code"><code class="language-css"></code></pre>
            </div>
            <div class="controls">
                <select id="presets">
                    <option value="">选择预设形状...</option>
                    <option value="triangle1">▲ 三角形 (向上)</option>
                    <option value="triangle2">▼ 三角形 (向下)</option>
                    <option value="triangle3">◄ 三角形 (向左)</option>
                    <option value="triangle4">► 三角形 (向右)</option>
                    <option value="triangle5">◥ 三角形 (右上角)</option>
                    <option value="sector">◠ 扇形 (90度)</option>
                    <option value="square1">■ 正方形 (vw单位)</option>
                    <option value="square2">■ 正方形 (padding百分比)</option>
                    <option value="square3">■ 正方形 (margin-top百分比)</option>
                </select>
                <button id="run-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    运行
                </button>
                <button id="reset-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    重置
                </button>
            </div>
        </div>
        
        <div class="preview-panel">
            <div class="panel-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
                实时预览
            </div>
            <div class="preview-area">
                <div class="shape-container">
                    <div id="shape"></div>
                </div>
            </div>
            <div class="panel-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                HTML 结构
            </div>
            <div class="html-structure">&lt;div id="shape"&gt;&lt;/div&gt;</div>
        </div>
    </div>
    
    <footer>
        <p>CSS 形状实验室 &copy; 2023 | 使用 CSS 创建各种几何形状</p>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cssCode = document.getElementById('css-code');
            const runBtn = document.getElementById('run-btn');
            const resetBtn = document.getElementById('reset-btn');
            const presets = document.getElementById('presets');
            const shape = document.getElementById('shape');
            const highlightedCode = document.querySelector('#highlighted-code code');
            const lineNumbers = document.getElementById('line-numbers');
            
            // 创建一个style元素来持久化样式
            const styleElement = document.createElement('style');
            document.head.appendChild(styleElement);
            
            // 预设代码 - 每种形状使用不同的颜色
            const presetCodes = {
                triangle1: `#shape {
    width: 0;
    height: 0;
    border-top: 50px solid #FF5252;
    border-right: 50px solid transparent;
    border-left: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle2: `#shape {
    width: 0;
    height: 0;
    border-bottom: 50px solid #4CAF50;
    border-right: 50px solid transparent;
    border-left: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle3: `#shape {
    width: 0;
    height: 0;
    border-left: 50px solid #2196F3;
    border-top: 50px solid transparent;
    border-bottom: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle4: `#shape {
    width: 0;
    height: 0;
    border-right: 50px solid #FFC107;
    border-top: 50px solid transparent;
    border-bottom: 50px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                triangle5: `#shape {
    width: 0;
    height: 0;
    border-top: 100px solid #9C27B0;
    border-right: 100px solid transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                sector: `#shape {
    border: 100px solid transparent;
    width: 0;
    height: 0;
    border-radius: 100px;
    border-top-color: #FF9800;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                square1: `#shape {
    width: 30%;
    height: 30vw;
    background: #00BCD4;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                square2: `#shape {
    width: 30%;
    height: 0;
    padding-top: 30%;
    background: #795548;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}`,
                square3: `#shape {
    width: 30%;
    overflow: hidden;
    background: #607D8B;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}
#shape::after {
    content: '';
    display: block;
    margin-top: 100%;
}`
            };
            
            // 更新行号
            function updateLineNumbers(code) {
                const lines = code.split('\n').length;
                let numbers = '';
                for (let i = 1; i <= lines; i++) {
                    numbers += i + '\n';
                }
                lineNumbers.textContent = numbers;
            }
            
            // 高亮代码
            function highlightCode() {
                const code = cssCode.value;
                highlightedCode.textContent = code;
                Prism.highlightElement(highlightedCode);
                updateLineNumbers(code);
            }
            
            // 选择预设
            presets.addEventListener('change', function() {
                const selected = this.value;
                if (selected && presetCodes[selected]) {
                    cssCode.value = presetCodes[selected];
                    highlightCode();
                    applyStyles();
                }
            });
            
            // 运行按钮
            runBtn.addEventListener('click', function() {
                highlightCode();
                applyStyles();
            });
            
            // 重置按钮
            resetBtn.addEventListener('click', function() {
                cssCode.value = '';
                styleElement.innerHTML = '';
                shape.removeAttribute('style');
                highlightCode();
            });
            
            // 应用样式
            function applyStyles() {
                // 重置shape的内联样式
                shape.removeAttribute('style');
                // 更新style元素的内容
                styleElement.innerHTML = cssCode.value;
            }
            
            // 监听代码编辑
            cssCode.addEventListener('input', highlightCode);
            cssCode.addEventListener('scroll', function() {
                highlightedCode.scrollTop = this.scrollTop;
                highlightedCode.scrollLeft = this.scrollLeft;
                lineNumbers.scrollTop = this.scrollTop;
            });
            
            // 初始加载第一个预设
            cssCode.value = presetCodes.triangle1;
            highlightCode();
            applyStyles();
        });
    </script>
</body>
</html>